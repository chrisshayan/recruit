<template name="createMailTemplate">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox">
                <div class="ibox-title clearfix">
                    <h5 class="pull-left">{{#if isNew}}Create{{else}}Update{{/if}} <small>mail template</small></h5>
                    <a href="{{pathFor 'mailTemplates'}}" class="btn btn-white pull-right"><i class="fa fa-undo"></i>&nbsp;back</a>
                </div>
                <div class="ibox-content">
                        {{#autoForm collection="Collections.MailTemplates" id="mailTemplateForm" type=type doc=this.doc class="form-horizontal"}}
                        <div class="form-group {{#if afFieldIsInvalid name='name'}} has-error{{/if}}">
                            <label class="col-sm-2 control-label">Name</label>
                            <div class="col-sm-10">
                                {{> afFieldInput name='name'}}
                                {{#if afFieldIsInvalid name='name'}}
                                    <span class="help-block">{{afFieldMessage name='name'}}</span>
                                {{/if}}
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>

                        <div class="form-group {{#if afFieldIsInvalid name='fromStage'}} has-error{{/if}} {{#if afFieldIsInvalid name='toStage'}} has-error{{/if}}">
                            <label class="col-sm-2 control-label">When update from</label>
                            <div class="col-sm-10">
                                <div class="row">
                                    <div class="col-sm-5 text-right">
                                        {{> afFieldInput name='fromStage' disabled=isSystem}}
                                    </div>
                                    <div class="col-sm-1" style="text-align: center;font-size: 25px">
                                        <i class="fa fa-long-arrow-right"></i>
                                    </div>
                                    <div class="col-sm-5">
                                        {{> afFieldInput name='toStage' disabled=isSystem}}
                                    </div>
                                </div>
                                {{#if afFieldIsInvalid name='fromStage'}}
                                    <span class="help-block">{{afFieldMessage name='fromStage'}}</span>
                                {{/if}}
                                {{#if afFieldIsInvalid name='toStage'}}
                                    <span class="help-block">{{afFieldMessage name='toStage'}}</span>
                                {{/if}}
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>

                        <div class="form-group {{#if afFieldIsInvalid name='emailFrom'}} has-error{{/if}}" >
                            <label class="col-sm-2 control-label">From</label>
                            <div class="col-sm-10">
                                {{> afFieldInput name='emailFrom'}}
                                {{#if afFieldIsInvalid name='emailFrom'}}
                                    <span class="help-block">{{afFieldMessage name='emailFrom'}}</span>
                                {{/if}}
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>

                        <div class="form-group {{#if afFieldIsInvalid name='replyTo'}} has-error{{/if}}">
                            <label class="col-sm-2 control-label">Reply to</label>
                            <div class="col-sm-10">
                                {{> afFieldInput name='replyTo'}}
                                {{#if afFieldIsInvalid name='replyTo'}}
                                    <span class="help-block">{{afFieldMessage name='replyTo'}}</span>
                                {{/if}}
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>


                        <div class="form-group {{#if afFieldIsInvalid name='subject'}} has-error{{/if}}">
                            <label class="col-sm-2 control-label">Subject</label>
                            <div class="col-sm-10">
                                {{> afFieldInput name='subject'}}
                                {{#if afFieldIsInvalid name='subject'}}
                                    <span class="help-block">{{afFieldMessage name='subject'}}</span>
                                {{/if}}
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>

                        <div class="form-group {{#if afFieldIsInvalid name='htmlBody'}} has-error{{/if}}">
                            <label class="col-sm-2 control-label">Content</label>
                            <div class="col-sm-10">
                                {{> afFieldInput name='htmlBody'}}
                                {{#if afFieldIsInvalid name='htmlBody'}}
                                    <span class="help-block">{{afFieldMessage name='htmlBody'}}</span>
                                {{/if}}
                            </div>
                        </div>
                        <div class="hr-line-dashed"></div>


                        <div class="form-group">
                            <div class="col-sm-4 col-sm-offset-2">
                                <button class="btn btn-white" type="submit">Cancel</button>
                                <button class="btn btn-primary" type="submit">Save changes</button>
                            </div>
                        </div>
                    {{/autoForm}}
                </div>
            </div>
        </div>
    </div>
</template>